{"ast":null,"code":"import _taggedTemplateLiteral from\"/home/sachin/main/notes/react/Resturant-Management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";import _slicedToArray from\"/home/sachin/main/notes/react/Resturant-Management-system/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";var _templateObject,_templateObject2,_templateObject3,_templateObject4;import React,{useEffect,useState}from'react';import styled from'styled-components';import Header from'./Header';import Table from'./Table';import axios from'axios';import Button from'@mui/material/Button';import{ToastContainer,toast}from'react-toastify';import'react-toastify/dist/ReactToastify.css';import{useHistory}from'react-router';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";toast.configure();// const BaseUrl = \"https://delta-inspiration.herokuapp.com/api/get-seats/\"\n// const PostUrl = \"https://delta-inspiration.herokuapp.com/api/add-seat/\"\nvar BaseUrl=\"https://inspiration-2021-backend.herokuapp.com/api/get-seats/\";var PostUrl=\"https://inspiration-2021-backend.herokuapp.com/api/add-seat/\";export default function Dashboard(){var history=useHistory();var _useState=useState(false),_useState2=_slicedToArray(_useState,2),input=_useState2[0],setinput=_useState2[1];var _useState3=useState(),_useState4=_slicedToArray(_useState3,2),tablename=_useState4[0],settablename=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),tables=_useState6[0],settables=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),shopName=_useState8[0],setshopName=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),logoUrl=_useState10[0],setlogoUrl=_useState10[1];function fetchdata(){// console.log(localStorage.getItem('res_id'));\naxios.get(\"https://inspiration-2021-backend.herokuapp.com/api/restaurant/\".concat(localStorage.getItem('res_id'))).then(function(res){console.log(res);setshopName(res.data.name);setlogoUrl(res.data.logo);});axios.post(BaseUrl,{\"restaurant_id\":localStorage.getItem('res_id')}).then(function(res){settables(res.data.data);console.log(tables);}).catch(function(err){console.log(err);localStorage.setItem('token',null);history.push('/');});}useEffect(function(){fetchdata();},[]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Header,{logo:logoUrl,shopName:shopName}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(TextContainer,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Tables:- \"}),input&&/*#__PURE__*/_jsx(Input,{placeholder:\"Table name\",onChange:function onChange(e){settablename(e.target.value);}}),/*#__PURE__*/_jsx(Button,{onClick:function onClick(){setinput(!input);{tablename&&axios.post(PostUrl,{\"restaurant_id\":localStorage.getItem('res_id'),\"seat_name\":tablename}).then(function(res){toast.success(\"table added\");fetchdata();settablename(null);}).catch(function(err){console.warn(err);});}},children:\"Add table\"})]}),/*#__PURE__*/_jsx(ItemContainer,{children:tables&&Object.keys(tables).map(function(key,index){return/*#__PURE__*/_jsx(Table,{update:fetchdata,id:tables[index].id,name:tables[index].seat_name,available:tables[index].is_available},key);})})]})]});}var Input=styled.input(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n    background: rgba(255, 255, 255, 0.15);\\n    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\\n    border-radius: 2rem;\\n    \\n    width: 80%;\\n    height: 0.5rem;\\n    padding: 1rem;\\n    border: none;\\n    outline: none;\\n    color: #3c354e;\\n    font-size: 1rem;\\n    font-weight: bold;\\n    &:focus {\\n    display: inline-block;\\n    box-shadow: 0 0 0 0.2rem #b9abe0;\\n    backdrop-filter: blur(12rem);\\n    border-radius: 2rem;\\n    }\\n    &::placeholder {\\n    color: #b9abe099;\\n    font-weight: 100;\\n    font-size: 1rem;\\n    }\\n\"])));var TextContainer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n    display: flex;\\n    justify-content: space-between;\\n    padding: 5px 10px;\\n    align-items:centre;\\n    max-height: 47px;\\n\"])));var ItemContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n    display: grid;\\n\\t\\t// background-color: red;\\t\\n    grid-template-columns: repeat(auto-fit, minmax(204px, 1fr));\\n    grid-gap: 16px;\\n    padding: 60px;\\n    // margin-left: 80px;\\n    \\n    \"])));var Container=styled.div(_templateObject4||(_templateObject4=_taggedTemplateLiteral([\"\\n    padding-top: 50px;\\n    display: flex;\\n    flex-direction: column;\\n\"])));","map":{"version":3,"sources":["/home/sachin/main/notes/react/Resturant-Management-system/src/Dashboard/Dashboard.js"],"names":["React","useEffect","useState","styled","Header","Table","axios","Button","ToastContainer","toast","useHistory","configure","BaseUrl","PostUrl","Dashboard","history","input","setinput","tablename","settablename","tables","settables","shopName","setshopName","logoUrl","setlogoUrl","fetchdata","get","localStorage","getItem","then","res","console","log","data","name","logo","post","catch","err","setItem","push","e","target","value","success","warn","Object","keys","map","key","index","id","seat_name","is_available","Input","TextContainer","div","ItemContainer","Container"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, } from 'react'\nimport styled from 'styled-components'\nimport Header from './Header'\nimport Table from './Table'\nimport axios from 'axios'\nimport Button from '@mui/material/Button'\nimport { ToastContainer, toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { useHistory } from 'react-router'\ntoast.configure()\n\n// const BaseUrl = \"https://delta-inspiration.herokuapp.com/api/get-seats/\"\n// const PostUrl = \"https://delta-inspiration.herokuapp.com/api/add-seat/\"\nconst BaseUrl = \"https://inspiration-2021-backend.herokuapp.com/api/get-seats/\"\nconst PostUrl = \"https://inspiration-2021-backend.herokuapp.com/api/add-seat/\"\n\n\nexport default function Dashboard() {\n    const history = useHistory()\n    const [input, setinput] = useState(false)\n    const [tablename, settablename] = useState()\n    const [tables, settables] = useState()\n\t\tconst [shopName, setshopName] = useState()\n\t\tconst [logoUrl , setlogoUrl] = useState()\n\n    function fetchdata (){\n        // console.log(localStorage.getItem('res_id'));\n\t\t\taxios.get(`https://inspiration-2021-backend.herokuapp.com/api/restaurant/${localStorage.getItem('res_id')}`).then((res) => {\n\t\t\t\tconsole.log(res)\n\t\t\t\tsetshopName(res.data.name)\n\t\t\t\tsetlogoUrl(res.data.logo)\n\t\t\t})\n\t\t\t\t\n\t\t\taxios.post(BaseUrl,{\n            \"restaurant_id\":localStorage.getItem('res_id')\n        }).then((res)=>{\n            settables(res.data.data)\n            console.log(tables)\n        }).catch((err)=>{\n            console.log(err)\n            localStorage.setItem('token',null)\n            history.push('/')\n            \n        })\n    }\n    useEffect(()=>{\n        fetchdata()\n    },[])\n    return (\n        <>\n        <Header logo={logoUrl} shopName = {shopName}/>\n        <Container>\n            <TextContainer>\n                <h1>Tables:- </h1>\n                {input && <Input placeholder=\"Table name\" onChange={(e)=>{settablename(e.target.value)}}/>}\n                <Button onClick={()=>{\n                    setinput(!input)\n                    {tablename && axios.post(PostUrl,{\n                        \"restaurant_id\": localStorage.getItem('res_id'),\n                        \"seat_name\":tablename\n                    }).then((res)=>{\n                        toast.success(\"table added\")\n                        fetchdata()\n                        settablename(null)\n                    }\n                    ).catch((err)=>{console.warn(err);})}\n                    }}>Add table</Button>\n            </TextContainer>\n        <ItemContainer>\n           { tables && Object.keys(tables).map((key,index)=>{\n               return <Table key={key} update={fetchdata}id={tables[index].id}name={tables[index].seat_name} available={tables[index].is_available} />\n           })\n           }\n        </ItemContainer>\n        </Container>\n        </>\n        )\n}\nconst Input = styled.input`\n    background: rgba(255, 255, 255, 0.15);\n    box-shadow: 0 8px 32px 0 rgba(31, 38, 135, 0.37);\n    border-radius: 2rem;\n    \n    width: 80%;\n    height: 0.5rem;\n    padding: 1rem;\n    border: none;\n    outline: none;\n    color: #3c354e;\n    font-size: 1rem;\n    font-weight: bold;\n    &:focus {\n    display: inline-block;\n    box-shadow: 0 0 0 0.2rem #b9abe0;\n    backdrop-filter: blur(12rem);\n    border-radius: 2rem;\n    }\n    &::placeholder {\n    color: #b9abe099;\n    font-weight: 100;\n    font-size: 1rem;\n    }\n`;\n\nconst TextContainer = styled.div`\n    display: flex;\n    justify-content: space-between;\n    padding: 5px 10px;\n    align-items:centre;\n    max-height: 47px;\n`;\nconst ItemContainer = styled.div`\n    display: grid;\n\t\t// background-color: red;\t\n    grid-template-columns: repeat(auto-fit, minmax(204px, 1fr));\n    grid-gap: 16px;\n    padding: 60px;\n    // margin-left: 80px;\n    \n    `;\n    const Container = styled.div`\n    padding-top: 50px;\n    display: flex;\n    flex-direction: column;\n`;\n"]},"metadata":{},"sourceType":"module"}